!function(){"use strict";var e={d:function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{F3:function(){return l},oy:function(){return h},Z6:function(){return u},gB:function(){return m},Jb:function(){return a},wP:function(){return i},iy:function(){return c},LC:function(){return f},yq:function(){return _},Y9:function(){return d},fk:function(){return p},P0:function(){return v},aQ:function(){return S},E3:function(){return g}});const n=new class{constructor(e){let{baseUrl:t,headers:n}=e;this._baseUrl=t,this._headers=n}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}initialize(){return Promise.all([this.getUser(),this.getInitialCards()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._handleResponse(e)))}getUser(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._handleResponse(e)))}setUserInfo(e){let{name:t,about:n}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then((e=>this._handleResponse(e)))}addCard(e){let{name:t,link:n}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:n})}).then((e=>this._handleResponse(e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._handleResponse(e)))}toggleLike(e,t){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:t?"DELETE":"PUT",headers:this._headers}).then((e=>this._handleResponse(e)))}updateaccountPic(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((e=>this._handleResponse(e)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"099989f7-9742-46ef-99f8-aa8e6872a6c3","Content-Type":"application/json"}});class s{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._closePopupOnRemoteClick=this._closePopupOnRemoteClick.bind(this)}open(){this._popup.classList.add("popup_open"),this._popup.addEventListener("mousedown",this._closePopupOnRemoteClick),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("mousedown",this._closePopupOnRemoteClick)}_closePopupOnRemoteClick(e){e.target.classList.contains("popup__overlay")&&this.close()}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popup.querySelector(".popup__close-btn").addEventListener("click",(()=>this.close()))}}class r extends s{constructor(e,t,n){let{handleFormSubmit:s}=t,{loadingButtonText:r="Saving..."}=n;super(e),this._form=this._popup.querySelector(".popup__form"),this._handleFormSubmit=s,this._inputList=this._form.querySelectorAll(".popup__form-input"),this._saveButton=this._form.querySelector(".popup__button"),this._saveButtonText=this._saveButton.textContent,this._loadingButtonText=r}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}_getInputValues(){return this._objData={},this._inputList.forEach((e=>{this._objData[e.name]=e.value})),this._objData}setInputValues(e){this._objInput={},thisrenderSaving._inputList.forEach((t=>{this._objInput[t.name]=e[t.value]}))}close(){super.close(),this._form.reset()}open(){super.open()}renderSaving(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._loadingButtonText;this._saveButton.textContent=e?t:this._saveButtonText}}var o=class{constructor(e,t){this._form=t,this._formSelector=e.formSelector,this._inputSelector=e.inputSelector,this._saveButtonSelector=e.saveButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._inputList=[...this._form.querySelectorAll(this._inputSelector)],this._buttonElement=this._form.querySelector(this._saveButtonSelector)}_showInputError(e,t){const n=this._form.querySelector(`.${e.id}-error`);e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`.${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_toggleButtonState(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)}enableValidation(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}};const i=document.querySelector(".account__edit-button"),a=(document.querySelector(".account__name"),document.querySelector(".account__description"),"#add__place"),c="#account__edit",l=".account__name",u=".account__description",d=document.querySelector(".popup__account-name"),_=document.querySelector(".popup__account-description"),h=".account__image",p=document.querySelector(".popup__edit-form"),m=document.querySelector(".account__add-button"),v=(document.querySelector(".popup__place-name"),document.querySelector(".js-input-type-place-url"),document.querySelector(".popup__place-form")),S=(document.querySelector(".account__image-edit-btn"),document.querySelector(".popup__edit-account-pic-form")),f=document.querySelector(".cards__list"),g={formSelector:".popup__form",inputSelector:".popup__form-input",saveButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input-type-error",errorClass:"popup__error_visible"};let E;const b=new class extends s{constructor(e,t){let{loadingButtonText:n="Saving..."}=t;super(e),this._form=this._popup.querySelector(".popup__form"),this._saveButton=this._form.querySelector(".popup__button"),this._saveButtonText=this._saveButton.textContent,this._loadingButtonText=n}open(e){this._handleSubmit=e,super.open()}close(){super.close()}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit()}))}renderSaving(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._loadingButtonText;this._saveButton.textContent=e?t:this._saveButtonText}}("#delete-popup",{loadingButtonText:"Deleting..."});onfirmationPopup.setEventListeners();const y=e=>{const t=P(e);L.addItem(t)},L=new class{constructor(e,t){let{items:n,renderer:s}=e;this._renderedItems=n,this._renderer=s,this._container=t}addItem(e){this._container.prepend(e)}renderItems(e){e.forEach(this._renderer)}}({renderer:y},f),C=new class extends s{constructor(e){super(e),this._cardImage=document.querySelector(".popup__image-preview")}open(e,t){const n=this._cardImage;n.src=t,n.alt=e,document.querySelector(".popup__preview-name").textContent=e,super.open()}}("#view__image"),k=new r(a,{handleFormSubmit:e=>{V(e)}},{loadingButtonText:"Saving..."});m.addEventListener("click",(()=>{k.open(),w.resetValidation()}));const B=new class{constructor(e){let{nameSelector:t,jobSelector:n,accountPicSelector:s}=e;this._name=document.querySelector(t),this._about=document.querySelector(n),this._accountPic=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){let{name:t,about:n}=e;this._name.textContent=t,this._about.textContent=n}setUserAvatar(e){let{avatar:t}=e;this._accountPic.src=t}}({nameSelector:l,jobSelector:u,accountPicSelector:h}),I=new r(c,{handleFormSubmit:e=>{j(e)}},{loadingButtonText:"Saving..."});i.addEventListener("click",(()=>{const{name:e,about:t}=B.getUserInfo();d.value=e,_.value=t,reviewer,I.open(),x.resetValidation()}));const q=new r("#edit-account-pic-popup",{handleFormSubmit:e=>{O(e)}},{loadingButtonText:"Updating image..."});q.setEventListeners(),t.editaccountPicButton.addEventListener("click",(()=>{q.open(),T.resetValidation()}));const x=new o(g,p),w=new o(g,v),T=new o(g,S);I.setEventListeners(),k.setEventListeners(),C.setEventListeners();const P=e=>{const t=new class{constructor(e,t,n,s,r,o){this.handleCardClick=n,this._handleDeleteButton=s,this._cardSelector=t,this._handleLikeButton=r,this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._id=e._id,this._userId=o}updateLikes(e){this._likes=e,this._renderLikes()}isLiked(){return this._likes.some((e=>e._id===this._userId))}_renderLikes(){this._likesTotal.textContent=this._likes.length,this.isLiked()?this._cardElement.querySelector(".card__place-favorite").classList.add("card__place-favorite_active"):this._cardElement.querySelector(".card__place-favorite").classList.remove("card__place-favorite_active")}getCardId(){return this._id}_setEventListeners(){this._cardElement.querySelector(".card__place-favorite").addEventListener("click",this._handleLikeButton),this._trashButton.addEventListener("click",(()=>{this._handleDeleteButton(this._cardElement)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this.handleCardClick({link:this._link,name:this._name})}))}removeCard(){return this._cardElement.remove(),this._cardElement=null}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}getView(){this._cardElement=this._getTemplate(),this._cardElement.querySelector(".card__place-name").textContent=this._name;const e=this._cardElement.querySelector(".card__image");return this._likesTotal=this._cardElement.querySelector(".card__place-num"),this._trashButton=this._cardElement.querySelector(".card__trash"),this._setEventListeners(),this._renderLikes(),e.src=this._link,e.alt=this._name,this._ownerId!==this._userId&&this._trashButton.remove(),this._cardElement}}(e,"#card-template",(()=>{var t;t=e,C.open(t.name,t.link)}),(()=>{b.open((()=>{R(t)}))}),(()=>{U(t)}),E);return t.getView()},U=e=>{n.toggleLike(e.getCardId(),e.isLiked()).then((t=>{e.updateLikes(t.likes)})).catch((e=>{console.log(e)}))},j=e=>{I.renderSaving(!0),n.setUserInfo(e).then((e=>{B.setUserInfo({name:e.name,about:e.about}),I.close()})).catch((e=>{console.log(e)})).finally((()=>{I.renderSaving(!1)}))},V=e=>{k.renderSaving(!0),n.addCard(e).then((e=>{y(e),k.close()})).catch((e=>{console.log(e)})).finally((()=>{k.renderSaving(!1)}))},O=e=>{q.renderSaving(!0),n.updateaccountPic(e).then((e=>{B.setUserAvatar({avatar:e.avatar}),q.close()})).catch((e=>{console.log(e)})).finally((()=>{q.renderSaving(!1)}))},R=e=>{b.renderSaving(!0),n.deleteCard(e.getCardId()).then((()=>{e.removeCard(),b.close()})).catch((e=>{console.log(e)})).finally((()=>{b.renderSaving(!1)}))};n.initialize().then((e=>{let[t,n]=e;E=t._id,L.renderItems(n),B.setUserInfo({name:t.name,about:t.about}),B.setUserAvatar({avatar:t.avatar})})).catch((e=>{console.log(e)})),w.enableValidation(),x.enableValidation(),T.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU8sSUFFMUJ5SixPQUFNQyxJQUNMQyxRQUFRQyxJQUFJRixFQUFJLElBRWpCSSxTQUFRLEtBQ1BqRixFQUFrQmhELGNBQWEsRUFBTSxHQUNyQyxFQUVOOUUsRUFBQUEsYUFFR21CLE1BQUssSUFBdUIsSUFBckIrTCxFQUFNQyxHQUFVLEVBQ3RCdEYsRUFBU3FGLEVBQUszQixJQUNkakQsRUFBU1UsWUFBWW1FLEdBQ3JCMUQsRUFBU3JJLFlBQVksQ0FDbkJDLEtBQU02TCxFQUFLN0wsS0FDWEMsTUFBTzRMLEVBQUs1TCxRQUVkbUksRUFBU08sY0FBYyxDQUNyQjdILE9BQVErSyxFQUFLL0ssUUFDYixJQUVIdUssT0FBTUMsSUFDTEMsUUFBUUMsSUFBSUYsRUFBSSxJQUdsQm5ELEVBQW9CMUMsbUJBQ3RCc0QsRUFBcUJ0RCxtQkFDckIwRCxFQUF3QjFELGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhWZXJpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuZ2V0VXNlcigpLCBcbiAgICAgIHRoaXMuZ2V0SW5pdGlhbENhcmRzKClcbiAgICBdKTtcbiAgICBcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBnZXRVc2VyKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKSk7XG4gIH1cblxuICB0b2dnbGVMaWtlKGlkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKSk7XG4gIH1cbiAgdXBkYXRlYWNjb3VudFBpYyh7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKTtcbiAgfVxuXG4gXG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjA5OTk4OWY3LTk3NDItNDZlZi05OWY4LWFhOGU2ODcyYTZjM1wiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2Nsb3NlUG9wdXBPblJlbW90ZUNsaWNrID0gdGhpcy5fY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2suYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9jbG9zZVBvcHVwT25SZW1vdGVDbGljayk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fY2xvc2VQb3B1cE9uUmVtb3RlQ2xpY2spO1xuICB9XG5cbiAgX2Nsb3NlUG9wdXBPblJlbW90ZUNsaWNrKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19vdmVybGF5XCIpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2UtYnRuXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwb3B1cFNlbGVjdG9yLFxuICAgIHsgaGFuZGxlRm9ybVN1Ym1pdCB9LFxuICAgIHsgbG9hZGluZ0J1dHRvblRleHQgPSBcIlNhdmluZy4uLlwiIH1cbiAgKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19mb3JtLWlucHV0XCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uVGV4dCA9IHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGV2dCA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fb2JqRGF0YSA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX29iakRhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fb2JqRGF0YTtcbiAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9vYmpJbnB1dCA9IHt9O1xuICAgIHRoaXNyZW5kZXJTYXZpbmcuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX29iaklucHV0W2lucHV0Lm5hbWVdID0gZGF0YVtpbnB1dC52YWx1ZV07XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgcmVuZGVyU2F2aW5nKGlzU2F2aW5nLCBsb2FkaW5nVGV4dCA9IHRoaXMuX2xvYWRpbmdCdXR0b25UZXh0KSB7XG4gICAgaWYgKGlzU2F2aW5nKSB7XG4gICAgICB0aGlzLl9zYXZlQnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zYXZlQnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cblxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmNsYXNzIHBvcHVwV2l0aFZlcmlmaWNhdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgeyBsb2FkaW5nQnV0dG9uVGV4dCA9IFwiU2F2aW5nLi4uXCIgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgICB0aGlzLl9zYXZlQnV0dG9uVGV4dCA9IHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fbG9hZGluZ0J1dHRvblRleHQgPSBsb2FkaW5nQnV0dG9uVGV4dDtcbiAgfVxuXG4gIG9wZW4oYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gYWN0aW9uO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZXZ0ID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJTYXZpbmcoaXNTYXZpbmcsIGxvYWRpbmdUZXh0ID0gdGhpcy5fbG9hZGluZ0J1dHRvblRleHQpIHtcbiAgICBpZiAoaXNTYXZpbmcpIHtcbiAgICAgIHRoaXMuX3NhdmVCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3NhdmVCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwb3B1cFdpdGhWZXJpZmljYXRpb247XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvblNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcblxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IHZhbGlkYXRpb25TZXR0aW5ncy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3NhdmVCdXR0b25TZWxlY3RvciA9IHZhbGlkYXRpb25TZXR0aW5ncy5zYXZlQnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHZhbGlkYXRpb25TZXR0aW5ncy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2F2ZUJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZShpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgY29uc3QgZWRpdEFjY291bnRPcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2NvdW50X19lZGl0LWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBhY2NvdW50TmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2NvdW50X19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGFjY291bnRUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2NvdW50X19kZXNjcmlwdGlvblwiKTtcbmV4cG9ydCBjb25zdCBhZGRQb3B1cFNlbGVjdG9yID0gXCIjYWRkX19wbGFjZVwiO1xuZXhwb3J0IGNvbnN0IGVkaXRQb3B1cFNlbGVjdG9yID0gXCIjYWNjb3VudF9fZWRpdFwiO1xuZXhwb3J0IGNvbnN0IGFjY291bnROYW1lID0gXCIuYWNjb3VudF9fbmFtZVwiO1xuZXhwb3J0IGNvbnN0IGFjY291bnRUaXRsZSA9IFwiLmFjY291bnRfX2Rlc2NyaXB0aW9uXCI7XG5cbmV4cG9ydCBjb25zdCBwb3B1cEFjY291bnROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYWNjb3VudC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwQWNjb3VudEljb25zVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19hY2NvdW50LWRlc2NyaXB0aW9uXCIpO1xuZXhwb3J0IGNvbnN0IGFjY291bnRQaWNTZWxlY3RvciA9IFwiLmFjY291bnRfX2ltYWdlXCI7XG5leHBvcnQgY29uc3Qgc3VibWl0QWNjb3VudEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19lZGl0LWZvcm1cIik7XG5leHBvcnQgY29uc3QgYWRkUGxhY2VzT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWNjb3VudF9fYWRkLWJ1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBsYWNlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3BsYWNlLW5hbWVcIik7XG5leHBvcnQgY29uc3QgcG9wdXBQbGFjZVVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtaW5wdXQtdHlwZS1wbGFjZS11cmxcIik7XG5leHBvcnQgY29uc3Qgc3VibWl0TmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19wbGFjZS1mb3JtXCIpO1xuZXhwb3J0IGNvbnN0IGVkaXRBY2NvdW50UGljQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hY2NvdW50X19pbWFnZS1lZGl0LWJ0blwiKTtcbmV4cG9ydCBjb25zdCBzdWJtaXROZXdhY2NvdW50UGljID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZWRpdC1hY2NvdW50LXBpYy1mb3JtXCIpO1xuXG4vLyBDYXJkcyBMaXN0IFxuZXhwb3J0IGNvbnN0IHBsYWNlTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XG5cblxuLy8gUGxhY2UgQ2FyZHNcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlJlYWNoaW5nIGZvciB0aGUgTW9vblwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pLnBpbmltZy5jb20vNTY0eC84OC85Yi8zNi84ODliMzYwN2IyYjkzNDMwYjQwZDdmMDNhZTkxOGU4ZC5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUG9ydHJhaXQgb2YgQmFyYmFyYSBvZiBQb3J0dWdhbFwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pLnBpbmltZy5jb20vNTY0eC84YS9hMC83MC84YWEwNzA1MzE3OGNiMWJiYjRhM2Y5MzM3OWQ3NTBkMi5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU2ltZXJlbnlhXCIsXG4gICAgbGluazogXCJodHRwczovL2kucGluaW1nLmNvbS81NjR4LzQ2LzY2LzMwLzQ2NjYzMDUwZTM4ODU1MGJmMjRiODA4NjE3OTYyNzFlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJDdXBpZCBhbmQgUHN5Y2hlXCIsXG4gICAgbGluazogXCJodHRwczovL2kucGluaW1nLmNvbS81NjR4LzE2L2UyLzhiLzE2ZTI4YmJiNDg4MDg1Y2Y1ZGY2OWY2MmMwNzc5MWNiLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJTdHJlZXQgaW4gdGhlIEV2ZW5pbmcsIFByYWd1ZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pLnBpbmltZy5jb20vNTY0eC9mZS84NS8zYi9mZTg1M2IxMmVlNTI5MGE0YjA5NjdlYzZlMjBkZTc4Mi5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiR2lybCBhdCB0aGUgUGlhbm9cIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvZDcvMGIvNTMvZDcwYjUzNDc5MWY1MGY2MmU3NDE2NjlhZWNkN2E0NzkuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkdvaW5nIEhvbWVcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvYWQvNTMvMmIvYWQ1MzJiMzFiYmZjZDAwNmM2YjhmMzNhOWI0Y2ViZjMuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlJhaW55IE5pZ2h0XCIsXG4gICAgbGluazogXCJodHRwczovL2kucGluaW1nLmNvbS81NjR4LzFhLzUwLzMyLzFhNTAzMjFiOTA1YjVkZGQ2MGIyODAyYzFiNTBhZDRiLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJUaGUgU3ByZWFkaW5nIFRyZWVcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvZDYvYjIvZjkvZDZiMmY5NDY1Nzk3YzRhZGVjNWZjYTY0MWExZGQyZDguanBnXCIsXG4gIH0sXG5dO1xuXG4vLyBWYWxpZGF0b3JzIFxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtLWlucHV0XCIsXG4gIHNhdmVCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC10eXBlLWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxufTtcblxuXG4iLCIvLyBJbmRleCBDU1MgSW1wb3J0XG5cbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7IFxuIFxuLy8gSlMgSW1wb3J0cyBcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiOyBcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjsgXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7IFxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7IFxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiOyBcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiOyBcbmltcG9ydCBwb3B1cFdpdGhWZXJpZmljYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoVmVyaWZpY2F0aW9uLmpzXCI7IFxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiOyBcbmltcG9ydCB7IFxuICBlZGl0QWNjb3VudE9wZW5CdG4sIFxuICBhY2NvdW50TmFtZSwgXG4gIGFjY291bnRUaXRsZSwgXG4gIHN1Ym1pdEFjY291bnRFZGl0LCBcbiAgYWRkUGxhY2VzT3BlbkJ0biwgXG4gIGVkaXRhY2NvdW50UGljQnV0dG9uLCBcbiAgYWNjb3VudFBpY1NlbGVjdG9yLCBcbiAgcG9wdXBQbGFjZU5hbWUsIFxuICBwb3B1cFBsYWNlVXJsLCBcbiAgcG9wdXBBY2NvdW50TmFtZSwgXG4gIHN1Ym1pdE5ld2FjY291bnRQaWMsIFxuICBhY2NvdW50TmFtZUlucHV0LCBcbiAgcG9wdXBBY2NvdW50SWNvbnNUaXRsZSwgXG4gIGFjY291bnRUaXRsZUlucHV0LCBcbiAgc3VibWl0TmV3UGxhY2UsIFxuICBlZGl0UG9wdXBTZWxlY3RvciwgXG4gIHBsYWNlTGlzdCxcblxuICBhZGRQb3B1cFNlbGVjdG9yLCBcbiAgdmFsaWRhdGlvblNldHRpbmdzXG5cbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiOyBcbmxldCB1c2VySWQ7IFxuXG5cbi8vIENhcmQgRnVuY3Rpb25zIFxuY29uc3QgY29uZmlybWF0aW9uUG9wdXAgPSBuZXcgcG9wdXBXaXRoVmVyaWZpY2F0aW9uKFwiI2RlbGV0ZS1wb3B1cFwiLCB7IFxuICBsb2FkaW5nQnV0dG9uVGV4dDogXCJEZWxldGluZy4uLlwiIFxufSk7IFxub25maXJtYXRpb25Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyBcblxuIFxuY29uc3QgcmVuZGVyQ2FyZCA9IGNhcmREYXRhUGxhY2VIb2xkZXIgPT4geyBcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhUGxhY2VIb2xkZXIpOyBcbiAgY2FyZExpc3QuYWRkSXRlbShjYXJkRWxlbWVudCk7IFxufTsgXG4gXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKCBcbiAgeyBcbiAgICByZW5kZXJlcjogcmVuZGVyQ2FyZCBcbiAgfSwgXG4gIHBsYWNlTGlzdCBcbik7IFxuIFxuIFxuY29uc3QgcHJldmlld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjdmlld19faW1hZ2VcIik7IFxuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gaXRlbSA9PiB7IFxuICBwcmV2aWV3SW1hZ2VQb3B1cC5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTsgXG59OyBcbiBcbmNvbnN0IGFkZE5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCBcbiAgYWRkUG9wdXBTZWxlY3RvciwgXG4gIHsgXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogZGF0YSA9PiB7IFxuICAgICAgYWRkQUNhcmQoZGF0YSk7IFxuICAgIH0gXG4gIH0sIFxuICB7IFxuICAgIGxvYWRpbmdCdXR0b25UZXh0OiBcIlNhdmluZy4uLlwiIFxuIH0gXG4pOyBcbiBcbmFkZFBsYWNlc09wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgXG4gYWRkTmV3Q2FyZFBvcHVwLm9wZW4oKTsgXG4gIHBsYWNlc0Zvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IFxufSk7IFxuIFxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oeyBcbiAgbmFtZVNlbGVjdG9yOiBhY2NvdW50TmFtZSwgXG4gIGpvYlNlbGVjdG9yOiBhY2NvdW50VGl0bGUsIFxuICBhY2NvdW50UGljU2VsZWN0b3I6IGFjY291bnRQaWNTZWxlY3RvciBcbn0pOyBcbiBcbi8vIFBvcHVwIEZ1bmN0aW9ucyBcbmNvbnN0IGVkaXRGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSggXG4gIGVkaXRQb3B1cFNlbGVjdG9yLCBcbiAgeyBcbiAgICBoYW5kbGVGb3JtU3VibWl0OiBkYXRhID0+IHsgXG4gICAgICBlZGl0YWNjb3VudChkYXRhKTsgXG4gICAgfSBcbiAgfSwgXG4gIHsgXG4gICAgbG9hZGluZ0J1dHRvblRleHQ6IFwiU2F2aW5nLi4uXCIgXG4gIH0gXG4pOyBcbmVkaXRBY2NvdW50T3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyBcbiAgY29uc3QgeyBuYW1lLCBhYm91dCB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTsgXG4gIHBvcHVwQWNjb3VudE5hbWUudmFsdWUgPSBuYW1lOyBcbiAgcG9wdXBBY2NvdW50SWNvbnNUaXRsZS52YWx1ZSA9IGFib3V0OyBcblxucmV2aWV3ZXIgXG4gIGVkaXRGb3JtUG9wdXAub3BlbigpOyBcbiAgYWNjb3VudEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IFxufSk7IFxuY29uc3QgZWRpdFBvZmlsZVBpY0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSggXG4gIFwiI2VkaXQtYWNjb3VudC1waWMtcG9wdXBcIiwgXG4gIHsgXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogZGF0YSA9PiB7IFxuICAgICAgY2hhbmdlYWNjb3VudEltYWdlKGRhdGEpOyBcbiAgICB9IFxuICB9LCBcbiAgeyBcbiAgICBsb2FkaW5nQnV0dG9uVGV4dDogXCJVcGRhdGluZyBpbWFnZS4uLlwiIFxuICB9IFxuKTsgXG4gXG5lZGl0UG9maWxlUGljRm9ybS5zZXRFdmVudExpc3RlbmVycygpOyBcbmVkaXRhY2NvdW50UGljQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IFxuICBlZGl0UG9maWxlUGljRm9ybS5vcGVuKCk7IFxuICBhY2NvdW50UGljRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTsgXG59KTsgXG4gXG5jb25zdCBhY2NvdW50Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKCBcbiAgdmFsaWRhdGlvblNldHRpbmdzLCBcbiAgc3VibWl0QWNjb3VudEVkaXQgXG4pOyBcbmNvbnN0IHBsYWNlc0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIHN1Ym1pdE5ld1BsYWNlKTsgXG4gXG5jb25zdCBhY2NvdW50UGljRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKCBcbiAgdmFsaWRhdGlvblNldHRpbmdzLCBcbiAgc3VibWl0TmV3YWNjb3VudFBpYyBcbik7IFxuIFxuZWRpdEZvcm1Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyBcbmFkZE5ld0NhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpOyBcbiBcbnByZXZpZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7IFxuIFxuY29uc3QgY3JlYXRlQ2FyZCA9IGNhcmREYXRhUGxhY2VIb2xkZXIgPT4geyBcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKCBcbiAgICBjYXJkRGF0YVBsYWNlSG9sZGVyLCBcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsIFxuICAgICgpID0+IHsgXG5cbiAgICAgIGhhbmRsZUNhcmRDbGljayhjYXJkRGF0YVBsYWNlSG9sZGVyKTtcbiAgICB9LCBcbiAgICAoKSA9PiB7IFxuICAgICAgY29uZmlybWF0aW9uUG9wdXAub3BlbigoKSA9PiB7XG4gICAgICAgIGhhbmRsZURlbGV0ZUNvbmZpcm1hdGlvbihjYXJkKTsgXG4gICAgICB9KTsgXG4gICAgfSwgXG4gICAgKCkgPT4geyBcbiAgICAgIHRvZ2dsZUxpa2UoY2FyZCk7IFxuICAgIH0sIFxuICAgIHVzZXJJZCBcbiAgKTsgXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTsgXG59OyBcbiBcbmNvbnN0IHRvZ2dsZUxpa2UgPSBjYXJkUGxhY2Vob2xkZXIgPT4geyBcbiAgYXBpIFxuICAgIC50b2dnbGVMaWtlKGNhcmRQbGFjZWhvbGRlci5nZXRDYXJkSWQoKSwgY2FyZFBsYWNlaG9sZGVyLmlzTGlrZWQoKSkgXG4gICAgLnRoZW4obGlrZXMgPT4geyBcbiAgICAgIGNhcmRQbGFjZWhvbGRlci51cGRhdGVMaWtlcyhsaWtlcy5saWtlcyk7IFxuICAgIH0pIFxuICAgIC5jYXRjaChlcnIgPT4geyBcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IFxuICAgIH0pOyBcbn07IFxuY29uc3QgZWRpdGFjY291bnQgPSBhY2NvdW50RGF0YSA9PiB7IFxuICBlZGl0Rm9ybVBvcHVwLnJlbmRlclNhdmluZyh0cnVlKTsgXG4gIGFwaSBcbiAgICAuc2V0VXNlckluZm8oYWNjb3VudERhdGEpIFxuICAgIC50aGVuKGFjY291bnREYXRhID0+IHsgXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7IFxuICAgICAgICBuYW1lOiBhY2NvdW50RGF0YS5uYW1lLCBcbiAgICAgICAgYWJvdXQ6IGFjY291bnREYXRhLmFib3V0IFxuICAgICAgfSk7IFxuICAgICAgZWRpdEZvcm1Qb3B1cC5jbG9zZSgpOyBcbiAgICB9KSBcbiAgICAuY2F0Y2goZXJyID0+IHsgXG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyBcbiAgICB9KSBcbiAgICAuZmluYWxseSgoKSA9PiB7IFxuICAgICAgZWRpdEZvcm1Qb3B1cC5yZW5kZXJTYXZpbmcoZmFsc2UpOyBcbiAgICB9KTsgXG59OyBcbmNvbnN0IGFkZEFDYXJkID0gY2FyZERhdGFQbGFjZWhvbGRlciA9PiB7IFxuICBhZGROZXdDYXJkUG9wdXAucmVuZGVyU2F2aW5nKHRydWUpOyBcbiAgYXBpIFxuICAgIC5hZGRDYXJkKGNhcmREYXRhUGxhY2Vob2xkZXIpIFxuICAgIC50aGVuKHJlcyA9PiB7IFxuICAgICAgcmVuZGVyQ2FyZChyZXMpOyBcbiAgICAgIGFkZE5ld0NhcmRQb3B1cC5jbG9zZSgpOyBcbiAgICB9KSBcbiAgICAuY2F0Y2goZXJyID0+IHsgXG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyBcbiAgICB9KSBcbiAgICAuZmluYWxseSgoKSA9PiB7IFxuICAgICAgYWRkTmV3Q2FyZFBvcHVwLnJlbmRlclNhdmluZyhmYWxzZSk7IFxuICAgIH0pOyBcbn07IFxuY29uc3QgY2hhbmdlYWNjb3VudEltYWdlID0gYWNjb3VudEltYWdlVXJsID0+IHsgXG4gIGVkaXRQb2ZpbGVQaWNGb3JtLnJlbmRlclNhdmluZyh0cnVlKTsgXG4gIGFwaSBcbiAgICAudXBkYXRlYWNjb3VudFBpYyhhY2NvdW50SW1hZ2VVcmwpIFxuICAgIC50aGVuKGFjY291bnRJbWFnZVVybCA9PiB7IFxuICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcih7IFxuICAgICAgICBhdmF0YXI6IGFjY291bnRJbWFnZVVybC5hdmF0YXIgXG4gICAgICB9KTsgXG4gICAgICBlZGl0UG9maWxlUGljRm9ybS5jbG9zZSgpOyBcbiAgICB9KSBcbiAgICAuY2F0Y2goZXJyID0+IHsgXG4gICAgICBjb25zb2xlLmxvZyhlcnIpOyBcbiAgICB9KSBcbiAgICAuZmluYWxseSgoKSA9PiB7IFxuICAgICAgZWRpdFBvZmlsZVBpY0Zvcm0ucmVuZGVyU2F2aW5nKGZhbHNlKTsgXG4gICAgfSk7IFxufTsgXG5jb25zdCBoYW5kbGVEZWxldGVDb25maXJtYXRpb24gPSBjYXJkID0+IHsgXG4gIGNvbmZpcm1hdGlvblBvcHVwLnJlbmRlclNhdmluZyh0cnVlKTsgXG4gIGFwaSBcbiAgICAuZGVsZXRlQ2FyZChjYXJkLmdldENhcmRJZCgpKSBcbiAgICAudGhlbigoKSA9PiB7IFxuICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7IFxuICAgICAgY29uZmlybWF0aW9uUG9wdXAuY2xvc2UoKTsgXG4gICAgfSkgXG4gICAgLmNhdGNoKGVyciA9PiB7IFxuICAgICAgY29uc29sZS5sb2coZXJyKTsgXG4gICAgfSkgXG4gICAgLmZpbmFsbHkoKCkgPT4geyBcbiAgICAgIGNvbmZpcm1hdGlvblBvcHVwLnJlbmRlclNhdmluZyhmYWxzZSk7IFxuICAgIH0pOyBcbn07IFxuYXBpIFxuICAuaW5pdGlhbGl6ZSgpIFxuICAudGhlbigoW3VzZXIsIGNhcmRzRGF0YV0pID0+IHsgXG4gICAgdXNlcklkID0gdXNlci5faWQ7IFxuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSk7IFxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsIFxuICAgICAgYWJvdXQ6IHVzZXIuYWJvdXQgXG4gICAgfSk7IFxuICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoeyBcbiAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIgXG4gICAgfSk7IFxuICB9KSBcbiAgLmNhdGNoKGVyciA9PiB7IFxuICAgIGNvbnNvbGUubG9nKGVycik7IFxuICB9KTsgXG4gXG4gIHBsYWNlc0Zvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyBcbmFjY291bnRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsgXG5hY2NvdW50UGljRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7ICIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7IFxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS1wcmV2aWV3XCIpO1xuICB9XG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX2NhcmRJbWFnZTtcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gbGluaztcbiAgICBpbWFnZUVsZW1lbnQuYWx0ID0gbmFtZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucG9wdXBfX3ByZXZpZXctbmFtZVwiXG4gICAgKS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsYWNjb3VudFBpY1NlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Fib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYWNjb3VudFBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWNjb3VudFBpY1NlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7IFxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCwgXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgXG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIoe2F2YXRhcn0pe1xuICAgIHRoaXMuX2FjY291bnRQaWMuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICBoYW5kbGVMaWtlQnV0dG9uLFxuICAgIHVzZXJJZFxuICApIHtcbiAgICB0aGlzLmhhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VCdXR0b24gPSBoYW5kbGVMaWtlQnV0dG9uO1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICB9XG5cbiAgdXBkYXRlTGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKGxpa2UgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuICBfcmVuZGVyTGlrZXMoKSB7XG4gICAgdGhpcy5fbGlrZXNUb3RhbC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpIHtcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3BsYWNlLWZhdm9yaXRlXCIpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fcGxhY2UtZmF2b3JpdGVfYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19wbGFjZS1mYXZvcml0ZVwiKVxuICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX3BsYWNlLWZhdm9yaXRlX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBnZXRDYXJkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG4gIC8vcnVucyAzcmRcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19wbGFjZS1mYXZvcml0ZVwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKTtcblxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5fY2FyZEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2soeyBsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHJldHVybiAodGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsKTtcbiAgfVxuXG4gIC8vcnVucyAybmRcbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpOyAvLy9fZ2V0VGVtcGxhdGVcbiAgfVxuICAvL3J1bnMgMXN0XG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19wbGFjZS1uYW1lXCJcbiAgICApLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2xpa2VzVG90YWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3BsYWNlLW51bVwiKTtcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2hcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xuICAgIGltYWdlRWxlbWVudC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJhcGkiLCJjb25zdHJ1Y3RvciIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhpcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiaW5pdGlhbGl6ZSIsImFsbCIsImdldFVzZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJzZXRVc2VySW5mbyIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkQ2FyZCIsImxpbmsiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwidG9nZ2xlTGlrZSIsImlkIiwiaXNMaWtlZCIsInVwZGF0ZWFjY291bnRQaWMiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9jbG9zZVBvcHVwT25SZW1vdGVDbGljayIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJzZXRFdmVudExpc3RlbmVycyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwibG9hZGluZ0J1dHRvblRleHQiLCJzdXBlciIsIl9mb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9zYXZlQnV0dG9uIiwiX3NhdmVCdXR0b25UZXh0IiwidGV4dENvbnRlbnQiLCJfbG9hZGluZ0J1dHRvblRleHQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9vYmpEYXRhIiwiZm9yRWFjaCIsImlucHV0Iiwic2V0SW5wdXRWYWx1ZXMiLCJkYXRhIiwiX29iaklucHV0IiwidGhpc3JlbmRlclNhdmluZyIsInJlc2V0IiwicmVuZGVyU2F2aW5nIiwiaXNTYXZpbmciLCJsb2FkaW5nVGV4dCIsInZhbGlkYXRpb25TZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zYXZlQnV0dG9uU2VsZWN0b3IiLCJzYXZlQnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2J1dHRvbkVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNvbWUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJlZGl0QWNjb3VudE9wZW5CdG4iLCJhZGRQb3B1cFNlbGVjdG9yIiwiZWRpdFBvcHVwU2VsZWN0b3IiLCJhY2NvdW50TmFtZSIsImFjY291bnRUaXRsZSIsInBvcHVwQWNjb3VudE5hbWUiLCJwb3B1cEFjY291bnRJY29uc1RpdGxlIiwiYWNjb3VudFBpY1NlbGVjdG9yIiwic3VibWl0QWNjb3VudEVkaXQiLCJhZGRQbGFjZXNPcGVuQnRuIiwic3VibWl0TmV3UGxhY2UiLCJzdWJtaXROZXdhY2NvdW50UGljIiwicGxhY2VMaXN0IiwidXNlcklkIiwiY29uZmlybWF0aW9uUG9wdXAiLCJhY3Rpb24iLCJfaGFuZGxlU3VibWl0Iiwib25maXJtYXRpb25Qb3B1cCIsInJlbmRlckNhcmQiLCJjYXJkRGF0YVBsYWNlSG9sZGVyIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJwcmV2aWV3SW1hZ2VQb3B1cCIsIl9jYXJkSW1hZ2UiLCJpbWFnZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJhZGROZXdDYXJkUG9wdXAiLCJhZGRBQ2FyZCIsInBsYWNlc0Zvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX25hbWUiLCJfYWJvdXQiLCJfYWNjb3VudFBpYyIsImdldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImVkaXRGb3JtUG9wdXAiLCJlZGl0YWNjb3VudCIsInJldmlld2VyIiwiYWNjb3VudEZvcm1WYWxpZGF0b3IiLCJlZGl0UG9maWxlUGljRm9ybSIsImNoYW5nZWFjY291bnRJbWFnZSIsImVkaXRhY2NvdW50UGljQnV0dG9uIiwiYWNjb3VudFBpY0Zvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiY2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsImhhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2xpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfdXNlcklkIiwidXBkYXRlTGlrZXMiLCJfcmVuZGVyTGlrZXMiLCJsaWtlIiwiX2xpa2VzVG90YWwiLCJsZW5ndGgiLCJfY2FyZEVsZW1lbnQiLCJnZXRDYXJkSWQiLCJfdHJhc2hCdXR0b24iLCJyZW1vdmVDYXJkIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsIml0ZW0iLCJoYW5kbGVEZWxldGVDb25maXJtYXRpb24iLCJjYXJkUGxhY2Vob2xkZXIiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhY2NvdW50RGF0YSIsImZpbmFsbHkiLCJjYXJkRGF0YVBsYWNlaG9sZGVyIiwiYWNjb3VudEltYWdlVXJsIiwidXNlciIsImNhcmRzRGF0YSJdLCJzb3VyY2VSb290IjoiIn0=